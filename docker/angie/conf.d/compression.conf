# =============================================================================
# Compression Configuration (Brotli + Gzip)
# =============================================================================
# Angie has built-in Brotli support (no extra module needed)
# Brotli provides ~20% better compression than gzip
# =============================================================================

# ==========================================================================
# Brotli Compression (preferred, ~20% smaller than gzip)
# ==========================================================================
brotli on;
brotli_comp_level 6;
brotli_min_length 1024;
brotli_types
    text/plain
    text/css
    text/xml
    text/javascript
    application/javascript
    application/x-javascript
    application/json
    application/xml
    application/xml+rss
    application/rss+xml
    application/atom+xml
    application/wasm
    application/manifest+json
    image/svg+xml
    image/x-icon
    font/woff
    font/woff2
    font/ttf
    font/otf;

# ==========================================================================
# Gzip Fallback (for clients that don't support Brotli)
# ==========================================================================
gzip on;
gzip_vary on;
gzip_min_length 1024;
gzip_proxied any;
gzip_comp_level 6;
gzip_buffers 16 8k;
gzip_http_version 1.1;
gzip_types
    text/plain
    text/css
    text/xml
    text/javascript
    application/javascript
    application/x-javascript
    application/json
    application/xml
    application/xml+rss
    application/rss+xml
    application/atom+xml
    application/wasm
    application/manifest+json
    image/svg+xml
    image/x-icon
    font/woff
    font/woff2
    font/ttf
    font/otf;
