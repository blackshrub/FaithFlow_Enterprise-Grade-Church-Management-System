# ============================================================================
# LiveKit Server Configuration
# ============================================================================
# Documentation: https://docs.livekit.io/server/deployment/
#
# For production, update:
# 1. keys: Generate new API key/secret pair
# 2. turn.udp_port / turn.tls_port: Match your firewall rules
# 3. turn.domain: Your domain for TURN
# 4. rtc.port_range_start / rtc.port_range_end: Match docker port mappings
# ============================================================================

# Port for HTTP/WebSocket connections
port: 7880

# Logging level: debug, info, warn, error
log_level: info

# ==========================================================================
# API Keys
# ==========================================================================
# Format: key: secret
# Generate production keys with: openssl rand -hex 32
# Multiple keys supported for key rotation
keys:
  devkey: faithflow-development-secret-key-2024
  # Production example:
  # APIKeyProduction: your-256-bit-secret-here

# ==========================================================================
# RTC Configuration
# ==========================================================================
rtc:
  # TCP port for WebRTC (fallback when UDP is blocked)
  tcp_port: 7881

  # UDP port range for media streams (limited for dev)
  port_range_start: 50000
  port_range_end: 50050

  # Use external IP for ICE candidates (required for Docker)
  # Set to your server's public IP in production
  # node_ip: 1.2.3.4
  use_external_ip: true

# ==========================================================================
# TURN Server Configuration
# ==========================================================================
# Disabled - using external coTURN container for TURN/STUN
turn:
  enabled: false

# ==========================================================================
# Room Configuration
# ==========================================================================
room:
  # Auto-create rooms when first participant joins
  auto_create: true

  # Empty room timeout (seconds)
  # Room is deleted after this many seconds with no participants
  empty_timeout: 300

  # Maximum participants per room
  max_participants: 100

# ==========================================================================
# Limit Configuration
# ==========================================================================
limit:
  # Maximum number of tracks a participant can publish
  num_tracks: 10
