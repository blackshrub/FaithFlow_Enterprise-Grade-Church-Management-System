# =============================================================================
# FaithFlow Docker Environment Configuration
# =============================================================================
#
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.docker.example .env
# 2. Fill in the required values below
# 3. Run: docker compose -f docker-compose.prod.yml up -d
#
# =============================================================================

# =============================================================================
# REQUIRED - You MUST change these values
# =============================================================================

# Your domain name (without https://)
# Example: faithflow.church, church.example.com, mychurch.org
DOMAIN=yourdomain.com

# Your email for Let's Encrypt SSL certificates
# Let's Encrypt will send expiration notices to this email
ACME_EMAIL=admin@yourdomain.com

# JWT Secret - VERY IMPORTANT: Generate a secure random string
# Run this command to generate one: openssl rand -hex 32
# Example: 7f3a9b2c1d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a
JWT_SECRET=CHANGE_THIS_TO_A_64_CHARACTER_RANDOM_STRING

# Your server's public IP address (needed for TURN/STUN)
# Find it with: curl ifconfig.me
# Example: 203.0.113.50
SERVER_IP=YOUR_SERVER_PUBLIC_IP

# =============================================================================
# OPTIONAL - Voice/Video Calling (LiveKit)
# =============================================================================
# These have secure defaults for development
# Change these in production for better security

# LiveKit API credentials (generate with: openssl rand -hex 16)
LIVEKIT_API_KEY=devkey
LIVEKIT_API_SECRET=faithflow-development-secret-key-2024

# TURN server secret (generate with: openssl rand -hex 32)
TURN_SECRET=faithflow-turn-secret-change-in-production

# =============================================================================
# OPTIONAL - Traefik Dashboard Authentication
# =============================================================================
# Password to access Traefik dashboard at https://traefik.yourdomain.com
# Default is admin:admin - CHANGE THIS!
# Generate new password: htpasswd -nb admin yourpassword
# Format: username:password-hash
TRAEFIK_DASHBOARD_AUTH=admin:$$apr1$$ruca84Hq$$mbjdMZBAG.KWn7vfN/SNK/

# =============================================================================
# OPTIONAL - EMQX Dashboard (MQTT Broker)
# =============================================================================
# Credentials to access EMQX dashboard at http://yourserver:18083
EMQX_DASHBOARD_USER=admin
EMQX_DASHBOARD_PASSWORD=faithflow123

# =============================================================================
# OPTIONAL - Third-party Integrations
# =============================================================================
# These can also be configured in the admin dashboard after installation

# WhatsApp API (for notifications)
WHATSAPP_API_URL=
WHATSAPP_USERNAME=
WHATSAPP_PASSWORD=

# Anthropic Claude API (for AI features)
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# Stability AI API (for AI image generation)
# Get your API key from: https://platform.stability.ai/
STABILITY_API_KEY=

# Payment Gateway (iPaymu)
IPAYMU_VA=
IPAYMU_API_KEY=
IPAYMU_ENV=sandbox

# =============================================================================
# MOBILE APP CONFIGURATION
# =============================================================================

# Deep linking configuration
MOBILE_APP_SCHEME=faithflow://
IOS_APP_STORE_URL=https://apps.apple.com/app/faithflow
ANDROID_PLAY_STORE_URL=https://play.google.com/store/apps/details?id=com.faithflow

# =============================================================================
# DO NOT CHANGE - Internal Configuration
# =============================================================================
# These are set automatically and should not be modified

# Docker Compose project name (used for container naming)
COMPOSE_PROJECT_NAME=faithflow

# Internal database configuration (uses Docker network)
MONGO_URL=mongodb://mongodb:27017
DB_NAME=faithflow

# =============================================================================
# OPTIONAL - SeaweedFS File Storage
# =============================================================================
# SeaweedFS is used for storing media files (images, videos, documents)
# These are internal Docker URLs (no need to change)

SEAWEEDFS_MASTER_URL=http://seaweedfs-master:9333
SEAWEEDFS_VOLUME_URL=http://seaweedfs-volume:8080
SEAWEEDFS_FILER_URL=http://seaweedfs-filer:8888

# File size limits (in bytes)
# SEAWEEDFS_MAX_IMAGE_SIZE=10485760
# SEAWEEDFS_MAX_VIDEO_SIZE=104857600
# SEAWEEDFS_MAX_DOCUMENT_SIZE=26214400

# =============================================================================
# CHECKLIST BEFORE STARTING
# =============================================================================
# [ ] DOMAIN is set to your actual domain
# [ ] ACME_EMAIL is set to a valid email
# [ ] JWT_SECRET is generated using: openssl rand -hex 32
# [ ] SERVER_IP is set to your server's public IP
# [ ] DNS records are pointing to your server:
#     - yourdomain.com -> SERVER_IP
#     - api.yourdomain.com -> SERVER_IP
#     - livekit.yourdomain.com -> SERVER_IP
#     - files.yourdomain.com -> SERVER_IP (for SeaweedFS media)
#     - traefik.yourdomain.com -> SERVER_IP (optional)
# =============================================================================
